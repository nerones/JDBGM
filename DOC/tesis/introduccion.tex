\chapter{Introducción}
En cualquier sistema informático es común encontrarse con el uso de bases de datos relacionales para manejar, valga la redundancia, los datos que este debe procesar. Estos datos deben ser leídos, actualizados y registrado por el sistema en la base de datos pero el sistema no es el que controla la base de datos si no es el \textit{Sistema de Gestión de Base de Datos} o Motor de base de datos o \dd\footnote{Por sus siglas en ingles} el que controla la base de datos y cualquier acción que se quiera realizar sobre la BD se hace a través de el motor mediante el lenguaje SQL es decir el sistema informático debe comunicarse con el motor de base de datos. 

En el mercado existen muchos \dd relacionales\footnote{Se usara \dd como sinonimo de \textit{RDBMS} a lo largo de todo el texto pero hay que tener en cuenta que \dd es un termino mas generico que no se refiere solo a motores relacionales.} Microsoft SQL Server, MySQL y Oracle son algunos de ellos y cada uno de estos define un dialecto de SQL muy a pesar de que SQL es un estándar de bastante antigüedad, el echo de por que se usan estos dialectos en vez del estándar corresponden a factores que no nos interesa discutir pero podemos nombrar como ejemplo la necesidad de mantener a los clientes atados a un sistema en particular. La comunicación con el motor se hace a través de un "driver" que por lo general es proveído por el desarrollador del motor y es especifico para este dependiendo de la plataforma sobre la que se este trabajando. Entonces al desarrollar un sistema informático que use una base de datos debemos tener en cuenta que exista el ``\textit{driver}'' para el lenguaje de programación que estemos por utilizar y además que al desarrollar con un determinado motor nos estamos atando en cierta medida al uso de este, otro tema importante y ya dejando de lado la ``dependencia'' con un motor tiene que ver con el diseño del sistema y es el modo en el que se accede a los datos en este sentido debemos pensar que el sistema debe concentrarse en los datos y no en como obtener los datos, por ejemplos tomemos el caso de un sistema orientado a objetos de ventas en el que existe una clase \verb=Ventas= que se encarga de gestionar la venta las cuales es necesario que estén registradas en una base de datos, una primera solución sería que dicha clase se encargue de comunicarse con el motor y de grabar los datos lo cual es posible pero se nos presentarían dos cuestiones primero la clase perdería cohesión pues se estaría encargando de tareas extras y segundo que la clase estaría interviniendo con el acceso al motor por lo que esta debería conocer mas cosas de la que debe es decir habría un mayor acoplamiento entre las diferentes clases, estas cuestiones hacen a la facilidad de mantenimiento del software. Una segunda solución seria que otra clase se encargue de realizar la persistencia de los datos, de este modo \verb=Ventas= no tiene que conocer como es que se están persistiendo los datos solo necesita enviarle un mensaje a la otra clase y dejar que ella se encargue del trabajo. El presente trabajo pretende desarrollar en principio una capa de abstracción para manejar distintos motores de bases de datos desde el lenguaje Java ocultando los detalles correspondientes al acceso a cada motor en particular, inicialmente se dará soporte para 3 motores pero  la estructura de el componente permitiría agregar fácilmente soporte para mas motores. El nombre del proyecto es \textit{Java Data Base Generic Manager} o \jj que es como sera referido de aquí en mas.


\section{Objetivos generales}
El presente proyecto obliga a realizar dos tareas bien distintas, la primera es el estudio de los diferentes \dd para aprender como es que se manejan esos motores y poder conocer tanto las características en comun como aquellas en las que difieran, la segunda tarea tiene que ver con estudiar el modo de diseñar el proyecto es decir de que modo estará estructurado \jj para poder permitir una fácil ampliación, un fácil mantenimiento todo esto teniendo en cuenta que el proyecto es mas que una librería pues proporcionara métodos pero a su vez exigirá un modo de implementar. Así podemos nombrar los siguientes objetivos generales del proyecto:
\begin{enumerate}
\item Familiarizarse con la lectura de documentación de proyectos.
\item Aprender el uso de patrones de diseño.
\item Aprender como se diseña una API.
\end{enumerate}
Los lenguajes de programación ya proveen métodos para acceder a los diferentes
motores de bases de datos, pero lo que se pretende lograr con JDBGM es encapsular estos
métodos y proveer de una interfaz única para acceder a los diferentes motores, facilitando
así la posibilidad de cambiar de motor. En este proyecto inicialmente me ocupare solo de
motores de bases de datos relacionales, mas específicamente de MySQL, PostgreSQL y
SQLite.


Java provee de un API bien definido para acceder a los diferentes motores de
bases de datos (DBMS) y se podría cumplir lo que promete JDBC ( escribe solo una
vez ) si no fuera por que JDBC toma cadenas de texto que representan las sentencias
SQL y estas sentencias son dependientes de la base de datos que se este usando, es
decir cada base de datos usa un dialecto de SQL lo que limita la “portabilidad” del
código escrito para el uso de otro DBMS.


El Componente gestor de bases de datos es en principio una capa de abstracción para manejar distintos motores de bases de datos desde el lenguaje java, o sea que no habría necesidad de entrar en detalles correspondientes a cada motor en particular para hace uso de el. En principio se daría soporte para 3 motores pero  la estructura de el componente permitiría agregar fácilmente soporte para mas motores. JDBGM además estaría acompañada por una programa de ejemplo que haría uso del componente.
 El componente gestor de base  de datos es una capa de abstracción para el uso de un motor de base de datos (DBMS por sus siglas en ingles), es decir el usuario de el componente JDBGM podría obviar los detalles correspondientes a que motor de base de datos en concreto esta usando, pues el encargado de gestionar esos detalles seria JDBGM. Se lograría así:
1. Simplificación de código: las clases que manejan la lógica de un programa solo deberían ocuparse de la lógica en si y no de como conectarse al DBMS o de como hacer consultas a este, esto se debería hacer mediante llamadas a métodos del componente.

2. Mayor portabilidad: el echo de que la parte de lógica del programa no este atado a un motor en particular hace que sea muy sencillo cambiar el DBMS pues llegado el caso a lo sumo debería modificarse el componente.
3. Facilitar el mantenimiento del programa: como todo el manejo del DBMS esta centralizado en el componente se hace mas fácil el mantenimiento del código.

La idea del componente esta basada en Data Acces Object o bien DAO, que es un patrón de diseño utilizado para encapsular la interacción de una aplicación con la base de datos, aunque en un sentido mas amplio DAO también esta pensado para ocuparse de cualquier medio de persistencia, es decir podríamos almacenar los datos en otros medios como archivos simples o bien en archivos xml, en este caso solo nos ocuparemos de motores de base de datos relacionales (RDBMS). Otra cuestión a tener en cuenta es que DAO hace uso de otro patrón para poder enviar y recibir los datos desde el cliente (aplicación que esta haciendo uso del componente) hacia el DBMS, este patrón es DTO  (Data Transfer Object) que en una base de datos relacional vendría a representar una tabla. Se puede pensar que un DTO no es mas que una clase que define tantos atributos como los que posee una tabla en un  modelo de base de datos relacional, así debería existir un DTO por cada tabla que exista en la    base de datos. 

El componente entonces estaría encargado de las siguientes tareas:

1. Conectarse con el DBMS: debería poder establecer la conexión al motor mediante el driver adecuado, además también proporcionar métodos para cerrar la conexión.
2. El componente hace uso de DTO (o se basa en DTO): como medio para transferir los datos entre el cliente y el DBMS, así por ejemplo si el cliente quisiera agregar datos a una tabla employers en una RDBMS con atributos name e id se debería crear un objeto employersDTO con los mismos atributos y  el componente seria el encargado de agregar estos datos al RDBMS, por lo que de el lado cliente lo único que debería conocerse es el modelo de la base de datos.
3. La capa define una interfaz para realizar las operaciones en el RDBMS: básicamente se definirían los métodos CRUD (Create, Read, Update y Delete) mediante los cuales se brindan formas de trabajar con la base de datos.
4. El componente soportara inicialmente 3 DBMS: MySQL, PostgreSQL y SQLite. Aunque se piensa brindar un mayor soporte en el futuro, para ello la estructura del componente debiera ser tal que permita una fácil ampliación, como así también estar adecuadamente documentado, para que sea fácil comprender el funcionamiento interno del componente.

Aparte se incluiría una aplicación de ejemplo en la que se muestre el uso de JDBGM, como así también la facilidad con la que se podría cambiar de un motor a otro.  



